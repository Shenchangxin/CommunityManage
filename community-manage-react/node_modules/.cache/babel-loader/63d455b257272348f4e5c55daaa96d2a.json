{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nvar _jsxFileName = \"D:\\\\IDEA workspace\\\\ZUA\\\\community-manage-react\\\\src\\\\pages\\\\community\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../community/store\";\nimport { Redirect } from \"react-router-dom\";\nimport { PlusSquareOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = _Select;\n\nclass Community extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      getState: false,\n      message: '',\n      visible: false,\n      loading: false,\n      deleteState: false,\n      updateVisible: false,\n      updateState: false,\n      updateId: 0\n    };\n  }\n\n  componentWillMount() {\n    this.props.getCommunity();\n    console.log(this.props.data);\n  }\n\n  render() {\n    const columns = [{\n      title: '社团名称',\n      dataIndex: 'name',\n      key: 'id',\n      render: text => /*#__PURE__*/_jsxDEV(\"a\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 33\n      }, this)\n    }, {\n      title: '社团类型',\n      dataIndex: 'type',\n      key: 'id',\n      render: type => /*#__PURE__*/_jsxDEV(_Tag, {\n        color: \"green\",\n        children: type.name\n      }, type, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)\n    }, {\n      title: '操作',\n      key: 'id',\n      render: (text, record) => /*#__PURE__*/_jsxDEV(_Space, {\n        size: \"middle\",\n        children: [/*#__PURE__*/_jsxDEV(_Button, {\n          onClick: () => handleUpdate(record.id - 1),\n          children: \"\\u4FEE\\u6539\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(_Button, {\n          onClick: () => handleDelete(record.id),\n          children: \"\\u5220\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)\n    }];\n    const {\n      handleSearch,\n      handleShowModal,\n      handleAddCommunity,\n      updateId,\n      handleUpdate,\n      handleCancel,\n      handleDelete,\n      handleCancelUpdate,\n      handleUpdateCommunity\n    } = this.props;\n\n    if (this.props.deleteState) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/admin/community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 43\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"communityList\",\n      children: [/*#__PURE__*/_jsxDEV(_Card, {\n        style: {\n          width: 1240\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Form, {\n          name: \"advanced_search\",\n          className: \"ant-advanced-search-form\",\n          children: /*#__PURE__*/_jsxDEV(_Row, {\n            type: \"flex\",\n            align: \"middle\",\n            style: {\n              marginBottom: 10\n            },\n            children: /*#__PURE__*/_jsxDEV(_Col, {\n              children: /*#__PURE__*/_jsxDEV(_Form, {\n                layout: \"inline\",\n                ref: \"searchForm\",\n                children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                  label: \"社团名\",\n                  name: \"fields\",\n                  children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                  style: {\n                    float: \"right\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(_Button, {\n                    type: \"primary\",\n                    onClick: () => handleSearch(this.refs.searchForm.getFieldValue()),\n                    style: {\n                      marginRight: \"10px\"\n                    },\n                    children: \"\\u67E5\\u627E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                    type: \"default\",\n                    onClick: () => handleShowModal(),\n                    children: [/*#__PURE__*/_jsxDEV(PlusSquareOutlined, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 94\n                    }, this), \"\\u6DFB\\u52A0\\u793E\\u56E2\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_Table, {\n          columns: columns,\n          pagination: {\n            pageSize: 6,\n            position: ['bottomCenter']\n          },\n          dataSource: this.props.data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        visible: this.props.visible,\n        destroyOnClose: true,\n        title: \"\\u6DFB\\u52A0\\u793E\\u56E2\",\n        onOk: () => handleAddCommunity(),\n        onCancel: () => handleCancel(),\n        footer: [/*#__PURE__*/_jsxDEV(_Button, {\n          onClick: () => handleCancel(),\n          children: \"\\u53D6\\u6D88\"\n        }, \"back\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          loading: this.props.loading,\n          onClick: () => handleAddCommunity(this.refs.communityForm.getFieldValue()),\n          children: \"\\u786E\\u5B9A\"\n        }, \"submit\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }, this)],\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          name: \"addCommunity\",\n          ref: \"communityForm\",\n          scrollToFirstError: true,\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"name\",\n            label: \"\\u793E\\u56E2\\u540D\\u79F0\",\n            rules: [{\n              required: true,\n              message: '请输入所要添加的社团的名字!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"description\",\n            label: \"\\u793E\\u56E2\\u7B80\\u4ECB\",\n            rules: [{\n              required: true,\n              message: '请填写社团简介!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"type\",\n            label: \"\\u793E\\u56E2\\u7C7B\\u578B\",\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              message: '请选择社团类型!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              placeholder: \"\\u8BF7\\u9009\\u62E9\\u793E\\u56E2\\u7C7B\\u578B\",\n              children: [/*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u6587\\u4F53\\u7C7B\",\n                children: \"\\u6587\\u4F53\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u827A\\u672F\\u7C7B\",\n                children: \"\\u827A\\u672F\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        visible: this.props.updateVisible,\n        destroyOnClose: true,\n        title: \"\\u4FEE\\u6539\\u793E\\u56E2\",\n        onOk: () => handleUpdateCommunity(),\n        onCancel: () => handleCancelUpdate(),\n        footer: [/*#__PURE__*/_jsxDEV(_Button, {\n          onClick: () => handleCancelUpdate(),\n          children: \"\\u53D6\\u6D88\"\n        }, \"back\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          loading: this.props.loading,\n          onClick: () => handleUpdateCommunity(this.refs.communityForm.getFieldValue(), updateId),\n          children: \"\\u786E\\u5B9A\"\n        }, \"submit\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this)],\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          name: \"updateCommunity\",\n          ref: \"communityForm\",\n          scrollToFirstError: true,\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"name\",\n            label: \"\\u793E\\u56E2\\u540D\\u79F0\",\n            rules: [{\n              required: true,\n              message: '请输入所要添加的社团的名字!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              defaultValue: \"\\u5927\\u5B66\\u751F\\u5FC3\\u91CC\\u793E\\u56E2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"description\",\n            label: \"\\u793E\\u56E2\\u7B80\\u4ECB\",\n            rules: [{\n              required: true,\n              message: '请填写社团简介!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              defaultValue: \"\\u6211\\u662F\\u5927\\u5B66\\u751F\\u5FC3\\u91CC\\u793E\\u56E2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"type\",\n            label: \"\\u793E\\u56E2\\u7C7B\\u578B\",\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              message: '请选择社团类型!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              placeholder: \"\\u8BF7\\u9009\\u62E9\\u793E\\u56E2\\u7C7B\\u578B\",\n              defaultValue: \"\\u6587\\u4F53\\u7C7B\",\n              children: [/*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u6587\\u4F53\\u7C7B\",\n                children: \"\\u6587\\u4F53\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u827A\\u672F\\u7C7B\",\n                children: \"\\u827A\\u672F\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u4F53\\u80B2\\u7C7B\",\n                children: \"\\u4F53\\u80B2\\u7C7B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapState = state => ({\n  data: state.getIn(['community', 'data']),\n  visible: state.getIn(['community', 'visible']),\n  loading: state.getIn(['community', 'loading']),\n  deleteState: state.getIn(['community', 'deleteState']),\n  updateVisible: state.getIn(['community', 'updateVisible']),\n  updateState: state.getIn(['community', 'updateState']),\n  updateId: state.getIn(['community', 'updateId'])\n});\n\nconst mapDispatch = dispatch => ({\n  getCommunity() {\n    dispatch(actionCreators.communityRequest());\n  },\n\n  handleUpdate(id) {\n    console.log(id);\n    dispatch(actionCreators.handleUpdate(id));\n  },\n\n  handleSearch(value) {\n    console.log(1);\n    dispatch(actionCreators.searchCommunity(value));\n  },\n\n  handleAddCommunity(values) {\n    console.log(values);\n    dispatch(actionCreators.addCommunity(values));\n  },\n\n  handleShowModal() {\n    dispatch(actionCreators.handleShow());\n  },\n\n  handleCancel() {\n    dispatch(actionCreators.handleCancel());\n  },\n\n  handleDelete(id) {\n    console.log(id);\n    dispatch(actionCreators.handleDelete(id));\n  },\n\n  handleCancelUpdate() {\n    dispatch(actionCreators.handleCancelUpdate());\n  },\n\n  handleUpdateCommunity(values, id) {\n    console.log(values);\n    dispatch(actionCreators.handleUpdateCommunity(values, id));\n  }\n\n});\n\nexport default connect(mapState, mapDispatch)(Community);","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/src/pages/community/index.js"],"names":["React","Component","connect","actionCreators","Redirect","PlusSquareOutlined","Option","Community","state","data","getState","message","visible","loading","deleteState","updateVisible","updateState","updateId","componentWillMount","props","getCommunity","console","log","render","columns","title","dataIndex","key","text","type","name","record","handleUpdate","id","handleDelete","handleSearch","handleShowModal","handleAddCommunity","handleCancel","handleCancelUpdate","handleUpdateCommunity","width","marginBottom","float","refs","searchForm","getFieldValue","marginRight","pageSize","position","communityForm","required","mapState","getIn","mapDispatch","dispatch","communityRequest","value","searchCommunity","values","addCommunity","handleShow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Table, Tag, Space, Form, Row, Col, Input, Button, Modal, Select, Card} from 'antd';\r\nimport {actionCreators} from \"../community/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PlusSquareOutlined} from \"@ant-design/icons\";\r\n\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nclass Community extends Component {\r\n\r\n    state = {\r\n        data:[],\r\n        getState: false,\r\n        message: '',\r\n        visible: false,\r\n        loading: false,\r\n        deleteState: false,\r\n        updateVisible: false,\r\n        updateState: false,\r\n        updateId: 0\r\n\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n\r\n        this.props.getCommunity();\r\n        console.log(this.props.data)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const columns = [\r\n            {\r\n                title: '社团名称',\r\n                dataIndex: 'name',\r\n                key: 'id',\r\n                render: text => <a>{text}</a>,\r\n            },\r\n            {\r\n                title: '社团类型',\r\n                dataIndex:'type',\r\n                key: 'id',\r\n                render: (type) => (\r\n                    <Tag color={\"green\"} key={type}>{type.name}</Tag>\r\n                ),\r\n            },\r\n\r\n\r\n            {\r\n\r\n                title: '操作',\r\n                key: 'id',\r\n                render: (text,record) => (\r\n\r\n                    <Space size=\"middle\">\r\n                        <Button onClick={()=> handleUpdate(record.id-1)}>修改</Button>\r\n                        <Button onClick={()=> handleDelete(record.id)}>删除</Button>\r\n                    </Space>\r\n\r\n                ),\r\n            },\r\n        ];\r\n\r\n        const {handleSearch,handleShowModal,handleAddCommunity,updateId,handleUpdate,handleCancel,handleDelete,handleCancelUpdate,handleUpdateCommunity} = this.props;\r\n        if(this.props.deleteState){return <Redirect to=\"/admin/community\"/>}\r\n        return(\r\n            <div className=\"communityList\">\r\n\r\n                <Card style={{width: 1240}}>\r\n                <Form\r\n\r\n                    name=\"advanced_search\"\r\n                    className=\"ant-advanced-search-form\"\r\n                >\r\n                    <Row type=\"flex\"  align=\"middle\" style={{marginBottom:10}}>\r\n\r\n                        <Col>\r\n                            <Form layout=\"inline\"  ref=\"searchForm\">\r\n                                <Form.Item label={\"社团名\"}  name=\"fields\">\r\n                                    <Input  />\r\n                                </Form.Item>\r\n                                <Form.Item style={{float:\"right\"}}>\r\n                                    <Button  type=\"primary\" onClick={()=>handleSearch(this.refs.searchForm.getFieldValue())} style={{marginRight:\"10px\"}}>查找</Button>\r\n                                    <Button  type=\"default\"  onClick={()=>handleShowModal()}><PlusSquareOutlined />添加社团</Button>\r\n\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n\r\n\r\n                <Table\r\n                    columns={columns}\r\n                    pagination={{ pageSize:6, position: [ 'bottomCenter'] }}\r\n                    dataSource={this.props.data}\r\n                />\r\n                </Card>\r\n\r\n                <Modal\r\n                    visible={this.props.visible}\r\n                    destroyOnClose={true}\r\n                    title=\"添加社团\"\r\n                    onOk={()=>handleAddCommunity()}\r\n                    onCancel={()=>handleCancel()}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={()=>handleCancel()}>\r\n                            取消\r\n                        </Button>,\r\n                        <Button key=\"submit\" type=\"primary\" loading={this.props.loading} onClick={()=>handleAddCommunity(this.refs.communityForm.getFieldValue())}>\r\n                            确定\r\n                        </Button>,\r\n\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        name=\"addCommunity\"\r\n                        ref=\"communityForm\"\r\n                        scrollToFirstError\r\n                    >\r\n                        <Form.Item\r\n                            name=\"name\"\r\n                            label=\"社团名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入所要添加的社团的名字!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"description\"\r\n                            label=\"社团简介\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请填写社团简介!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n\r\n                        <Form.Item\r\n                            name=\"type\"\r\n                            label=\"社团类型\"\r\n                            hasFeedback\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请选择社团类型!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select placeholder=\"请选择社团类型\">\r\n                                <Option value=\"文体类\">文体类</Option>\r\n                                <Option value=\"艺术类\">艺术类</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    visible={this.props.updateVisible}\r\n                    destroyOnClose={true}\r\n                    title=\"修改社团\"\r\n                    onOk={()=>handleUpdateCommunity()}\r\n                    onCancel={()=>handleCancelUpdate()}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={()=>handleCancelUpdate()}>\r\n                            取消\r\n                        </Button>,\r\n                        <Button key=\"submit\" type=\"primary\" loading={this.props.loading} onClick={()=>handleUpdateCommunity(this.refs.communityForm.getFieldValue(),updateId)}>\r\n                            确定\r\n                        </Button>,\r\n\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        name=\"updateCommunity\"\r\n                        ref=\"communityForm\"\r\n                        scrollToFirstError\r\n                    >\r\n                        <Form.Item\r\n                            name=\"name\"\r\n                            label=\"社团名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入所要添加的社团的名字!',\r\n                                },\r\n                            ]}\r\n                        >\r\n\r\n                            {/*<Input defaultValue={this.props.data[updateId].name}/>*/}\r\n                            <Input defaultValue=\"大学生心里社团\"/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"description\"\r\n                            label=\"社团简介\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请填写社团简介!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            {/*<Input defaultValue={this.props.data[updateId].description}/>*/}\r\n                            <Input defaultValue=\"我是大学生心里社团\"/>\r\n                        </Form.Item>\r\n\r\n\r\n                        <Form.Item\r\n                            name=\"type\"\r\n                            label=\"社团类型\"\r\n                            hasFeedback\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请选择社团类型!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select placeholder=\"请选择社团类型\" defaultValue=\"文体类\">\r\n                                <Option value=\"文体类\">文体类</Option>\r\n                                <Option value=\"艺术类\">艺术类</Option>\r\n                                <Option value=\"体育类\">体育类</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState = (state) => ({\r\n    data: state.getIn(['community','data']),\r\n    visible: state.getIn(['community','visible']),\r\n    loading: state.getIn(['community','loading']),\r\n    deleteState: state.getIn(['community','deleteState']),\r\n    updateVisible: state.getIn(['community','updateVisible']),\r\n    updateState: state.getIn(['community','updateState']),\r\n    updateId: state.getIn(['community','updateId']),\r\n});\r\nconst mapDispatch = (dispatch) => ({\r\n\r\n    getCommunity(){\r\n        dispatch(actionCreators.communityRequest())\r\n    },\r\n    handleUpdate(id){\r\n        console.log(id)\r\n        dispatch(actionCreators.handleUpdate(id))\r\n    },\r\n    handleSearch(value){\r\n        console.log(1)\r\n        dispatch(actionCreators.searchCommunity(value))\r\n    },\r\n    handleAddCommunity(values){\r\n        console.log(values)\r\n        dispatch(actionCreators.addCommunity(values))\r\n    },\r\n    handleShowModal(){\r\n        dispatch(actionCreators.handleShow())\r\n    },\r\n    handleCancel(){\r\n        dispatch(actionCreators.handleCancel())\r\n    },\r\n    handleDelete(id){\r\n        console.log(id)\r\n        dispatch(actionCreators.handleDelete(id))\r\n    },\r\n    handleCancelUpdate(){\r\n        dispatch(actionCreators.handleCancelUpdate())\r\n    },\r\n    handleUpdateCommunity(values,id){\r\n        console.log(values)\r\n        dispatch(actionCreators.handleUpdateCommunity(values,id))\r\n    }\r\n\r\n})\r\n\r\nexport default connect(mapState,mapDispatch)(Community);"]},"metadata":{},"sourceType":"module"}
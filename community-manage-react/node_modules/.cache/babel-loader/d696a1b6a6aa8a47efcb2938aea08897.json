{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as constants from './constants';\nconst defaultState = fromJS({\n  user: {},\n  username: '河畔一角',\n  roles: [],\n  loginState: false,\n  message: ''\n});\n\nconst loginSuccess = (state, action) => {\n  return state.merge({\n    'user': action.user,\n    'loginState': action.loginState,\n    'username': action.user.sub,\n    'roles': action.roles\n  });\n};\n\nconst loginError = (state, action) => {\n  return state.merge({\n    'loginState': action.loginState,\n    'message': action.message\n  });\n};\n\nexport default ((state = defaultState, action) => {\n  switch (action.type) {\n    case constants.LOGIN_SUCCESS:\n      return loginSuccess(state, action);\n\n    case constants.LOGIN_ERROR:\n      return loginError(state, action);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/src/pages/login/store/reducer.js"],"names":["fromJS","constants","defaultState","user","username","roles","loginState","message","loginSuccess","state","action","merge","sub","loginError","type","LOGIN_SUCCESS","LOGIN_ERROR"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AAEA,MAAMC,YAAY,GAAGF,MAAM,CAAE;AACzBG,EAAAA,IAAI,EAAC,EADoB;AAEzBC,EAAAA,QAAQ,EAAE,MAFe;AAGzBC,EAAAA,KAAK,EAAC,EAHmB;AAIzBC,EAAAA,UAAU,EAAE,KAJa;AAKzBC,EAAAA,OAAO,EAAC;AALiB,CAAF,CAA3B;;AAQA,MAAMC,YAAY,GAAE,CAACC,KAAD,EAAOC,MAAP,KAAgB;AAChC,SAAOD,KAAK,CAACE,KAAN,CAAY;AACf,YAAQD,MAAM,CAACP,IADA;AAEf,kBAAcO,MAAM,CAACJ,UAFN;AAGf,gBAAYI,MAAM,CAACP,IAAP,CAAYS,GAHT;AAIf,aAASF,MAAM,CAACL;AAJD,GAAZ,CAAP;AAMH,CAPD;;AAQA,MAAMQ,UAAU,GAAE,CAACJ,KAAD,EAAOC,MAAP,KAAgB;AAC9B,SAAOD,KAAK,CAACE,KAAN,CAAY;AACf,kBAAcD,MAAM,CAACJ,UADN;AAEf,eAAWI,MAAM,CAACH;AAFH,GAAZ,CAAP;AAIH,CALD;;AAOA,gBAAe,CAACE,KAAK,GAAGP,YAAT,EAAsBQ,MAAtB,KAAiC;AAC5C,UAAQA,MAAM,CAACI,IAAf;AACI,SAAKb,SAAS,CAACc,aAAf;AACI,aAAOP,YAAY,CAACC,KAAD,EAAOC,MAAP,CAAnB;;AACJ,SAAKT,SAAS,CAACe,WAAf;AACI,aAAOH,UAAU,CAACJ,KAAD,EAAQC,MAAR,CAAjB;;AACJ;AACI,aAAOD,KAAP;AANR;AASH,CAVD","sourcesContent":["import { fromJS } from 'immutable';\r\nimport * as constants from './constants';\r\n\r\nconst defaultState = fromJS ({\r\n    user:{},\r\n    username: '河畔一角',\r\n    roles:[],\r\n    loginState: false,\r\n    message:''\r\n});\r\n\r\nconst loginSuccess =(state,action)=>{\r\n    return state.merge({\r\n        'user': action.user,\r\n        'loginState': action.loginState,\r\n        'username': action.user.sub,\r\n        'roles': action.roles\r\n    });\r\n}\r\nconst loginError =(state,action)=>{\r\n    return state.merge({\r\n        'loginState': action.loginState,\r\n        'message': action.message\r\n    });\r\n}\r\n\r\nexport default (state = defaultState,action) => {\r\n    switch (action.type) {\r\n        case constants.LOGIN_SUCCESS:\r\n            return loginSuccess(state,action)\r\n        case constants.LOGIN_ERROR:\r\n            return loginError(state, action)\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}
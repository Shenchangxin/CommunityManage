{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = _default;\n\nvar _deepCyclicCopy = _interopRequireDefault(require('./deepCyclicCopy'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nconst BLACKLIST = new Set(['env', 'mainModule', '_events']);\nconst isWin32 = process.platform === 'win32';\nconst proto = Object.getPrototypeOf(process.env); // The \"process.env\" object has a bunch of particularities: first, it does not\n// directly extend from Object; second, it converts any assigned value to a\n// string; and third, it is case-insensitive in Windows. We use a proxy here to\n// mimic it (see https://nodejs.org/api/process.html#process_process_env).\n\nfunction createProcessEnv() {\n  const real = Object.create(proto);\n  const lookup = {};\n\n  function deletePropertyWin32(_target, key) {\n    for (const name in real) {\n      if (real.hasOwnProperty(name)) {\n        if (typeof key === 'string') {\n          if (name.toLowerCase() === key.toLowerCase()) {\n            delete real[name];\n            delete lookup[name.toLowerCase()];\n          }\n        } else {\n          if (key === name) {\n            delete real[name];\n            delete lookup[name];\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function deleteProperty(_target, key) {\n    delete real[key];\n    delete lookup[key];\n    return true;\n  }\n\n  function getProperty(_target, key) {\n    return real[key];\n  }\n\n  function getPropertyWin32(_target, key) {\n    if (typeof key === 'string') {\n      return lookup[key in proto ? key : key.toLowerCase()];\n    } else {\n      return real[key];\n    }\n  }\n\n  const proxy = new Proxy(real, {\n    deleteProperty: isWin32 ? deletePropertyWin32 : deleteProperty,\n    get: isWin32 ? getPropertyWin32 : getProperty,\n\n    set(_target, key, value) {\n      const strValue = '' + value;\n\n      if (typeof key === 'string') {\n        lookup[key.toLowerCase()] = strValue;\n      }\n\n      real[key] = strValue;\n      return true;\n    }\n\n  });\n  return Object.assign(proxy, process.env);\n}\n\nfunction _default() {\n  const process = require('process');\n\n  const newProcess = (0, _deepCyclicCopy.default)(process, {\n    blacklist: BLACKLIST,\n    keepPrototype: true\n  });\n\n  try {\n    // This fails on Node 12, but it's already set to 'process'\n    newProcess[Symbol.toStringTag] = 'process';\n  } catch (e) {\n    // Make sure it's actually set instead of potentially ignoring errors\n    if (newProcess[Symbol.toStringTag] !== 'process') {\n      e.message = 'Unable to set toStringTag on process. Please open up an issue at https://github.com/facebook/jest\\n\\n' + e.message;\n      throw e;\n    }\n  } // Sequentially execute all constructors over the object.\n\n\n  let proto = process;\n\n  while (proto = Object.getPrototypeOf(proto)) {\n    if (typeof proto.constructor === 'function') {\n      proto.constructor.call(newProcess);\n    }\n  }\n\n  newProcess.env = createProcessEnv();\n\n  newProcess.send = () => {};\n\n  const domainPropertyDescriptor = Object.getOwnPropertyDescriptor(newProcess, 'domain');\n\n  if (domainPropertyDescriptor && !domainPropertyDescriptor.enumerable) {\n    Object.defineProperty(newProcess, 'domain', {\n      get() {\n        return process.domain;\n      }\n\n    });\n  }\n\n  return newProcess;\n}","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/node_modules/jest-util/build/createProcessObject.js"],"names":["Object","defineProperty","exports","value","default","_default","_deepCyclicCopy","_interopRequireDefault","require","obj","__esModule","BLACKLIST","Set","isWin32","process","platform","proto","getPrototypeOf","env","createProcessEnv","real","create","lookup","deletePropertyWin32","_target","key","name","hasOwnProperty","toLowerCase","deleteProperty","getProperty","getPropertyWin32","proxy","Proxy","get","set","strValue","assign","newProcess","blacklist","keepPrototype","Symbol","toStringTag","e","message","constructor","call","send","domainPropertyDescriptor","getOwnPropertyDescriptor","enumerable","domain"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = _default;\n\nvar _deepCyclicCopy = _interopRequireDefault(require('./deepCyclicCopy'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst BLACKLIST = new Set(['env', 'mainModule', '_events']);\nconst isWin32 = process.platform === 'win32';\nconst proto = Object.getPrototypeOf(process.env); // The \"process.env\" object has a bunch of particularities: first, it does not\n// directly extend from Object; second, it converts any assigned value to a\n// string; and third, it is case-insensitive in Windows. We use a proxy here to\n// mimic it (see https://nodejs.org/api/process.html#process_process_env).\n\nfunction createProcessEnv() {\n  const real = Object.create(proto);\n  const lookup = {};\n\n  function deletePropertyWin32(_target, key) {\n    for (const name in real) {\n      if (real.hasOwnProperty(name)) {\n        if (typeof key === 'string') {\n          if (name.toLowerCase() === key.toLowerCase()) {\n            delete real[name];\n            delete lookup[name.toLowerCase()];\n          }\n        } else {\n          if (key === name) {\n            delete real[name];\n            delete lookup[name];\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function deleteProperty(_target, key) {\n    delete real[key];\n    delete lookup[key];\n    return true;\n  }\n\n  function getProperty(_target, key) {\n    return real[key];\n  }\n\n  function getPropertyWin32(_target, key) {\n    if (typeof key === 'string') {\n      return lookup[key in proto ? key : key.toLowerCase()];\n    } else {\n      return real[key];\n    }\n  }\n\n  const proxy = new Proxy(real, {\n    deleteProperty: isWin32 ? deletePropertyWin32 : deleteProperty,\n    get: isWin32 ? getPropertyWin32 : getProperty,\n\n    set(_target, key, value) {\n      const strValue = '' + value;\n\n      if (typeof key === 'string') {\n        lookup[key.toLowerCase()] = strValue;\n      }\n\n      real[key] = strValue;\n      return true;\n    }\n  });\n  return Object.assign(proxy, process.env);\n}\n\nfunction _default() {\n  const process = require('process');\n\n  const newProcess = (0, _deepCyclicCopy.default)(process, {\n    blacklist: BLACKLIST,\n    keepPrototype: true\n  });\n\n  try {\n    // This fails on Node 12, but it's already set to 'process'\n    newProcess[Symbol.toStringTag] = 'process';\n  } catch (e) {\n    // Make sure it's actually set instead of potentially ignoring errors\n    if (newProcess[Symbol.toStringTag] !== 'process') {\n      e.message =\n        'Unable to set toStringTag on process. Please open up an issue at https://github.com/facebook/jest\\n\\n' +\n        e.message;\n      throw e;\n    }\n  } // Sequentially execute all constructors over the object.\n\n  let proto = process;\n\n  while ((proto = Object.getPrototypeOf(proto))) {\n    if (typeof proto.constructor === 'function') {\n      proto.constructor.call(newProcess);\n    }\n  }\n\n  newProcess.env = createProcessEnv();\n\n  newProcess.send = () => {};\n\n  const domainPropertyDescriptor = Object.getOwnPropertyDescriptor(\n    newProcess,\n    'domain'\n  );\n\n  if (domainPropertyDescriptor && !domainPropertyDescriptor.enumerable) {\n    Object.defineProperty(newProcess, 'domain', {\n      get() {\n        return process.domain;\n      }\n    });\n  }\n\n  return newProcess;\n}\n"]},"metadata":{},"sourceType":"script"}
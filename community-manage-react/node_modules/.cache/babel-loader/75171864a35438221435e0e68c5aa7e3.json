{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nvar _jsxFileName = \"D:\\\\IDEA workspace\\\\ZUA\\\\community-manage-react\\\\src\\\\pages\\\\community\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../community/store\";\nimport { NavLink } from \"react-router-dom\";\nimport { PlusSquareOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  title: '社团名称',\n  dataIndex: 'name',\n  key: 'id',\n  render: text => /*#__PURE__*/_jsxDEV(\"a\", {\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 25\n  }, this)\n}, {\n  title: '社团类型',\n  dataIndex: 'name',\n  key: 'type.id',\n  render: text => /*#__PURE__*/_jsxDEV(\"a\", {\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 25\n  }, this)\n}, // {\n//     title: '社团类型',\n//     key: 'type',\n//     dataIndex: 'type',\n//     render: type => (\n//         <span>\n//     {type.map(type => {\n//         let color = type.length > 5 ? 'geekblue' : 'green';\n//         if (type === 'loser') {\n//             color = 'volcano';\n//         }\n//         return (\n//             <Tag color={color} key={type}>\n//                 {type.toUpperCase()}\n//             </Tag>\n//         );\n//     })}\n//   </span>\n//         )\n// },\n{\n  title: '操作',\n  key: 'id',\n  render: () => /*#__PURE__*/_jsxDEV(_Space, {\n    size: \"middle\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: this.props.handleUpdate(this.key),\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/admin/community/updateCommunity\",\n        children: \"\\u4FEE\\u6539\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      children: \"\\u5220\\u9664\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 13\n  }, this)\n}];\nconst {\n  Option\n} = _Select;\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\n\nclass Community extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      visible: false\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleOk = () => {\n      this.setState({\n        loading: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loading: false,\n          visible: false\n        });\n      }, 1000);\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visible: false\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.props.getCommunity();\n    console.log(this.props.data);\n  }\n\n  render() {\n    const {\n      handleSearch\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"communityList\",\n      children: [/*#__PURE__*/_jsxDEV(_Form, {\n        ref: \"search_form\",\n        name: \"advanced_search\",\n        className: \"ant-advanced-search-form\",\n        children: /*#__PURE__*/_jsxDEV(_Row, {\n          type: \"flex\",\n          justify: \"space-between\",\n          align: \"middle\",\n          style: {\n            marginTop: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(_Col, {\n            children: /*#__PURE__*/_jsxDEV(_Form, {\n              layout: \"inline\",\n              children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n                label: \"社团名\",\n                children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n                style: {\n                  float: \"right\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"primary\",\n                  onClick: () => handleSearch(this.refs.search_form.getFieldValue()),\n                  style: {\n                    marginRight: \"10px\"\n                  },\n                  children: \"\\u67E5\\u627E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"default\",\n                  onClick: this.showModal,\n                  children: [/*#__PURE__*/_jsxDEV(PlusSquareOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 87\n                  }, this), \"\\u6DFB\\u52A0\\u793E\\u56E2\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Table, {\n        columns: columns,\n        pagination: {\n          position: ['bottomCenter']\n        },\n        dataSource: this.props.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        visible: this.state.visible,\n        title: \"\\u6DFB\\u52A0\\u793E\\u56E2\",\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        footer: [/*#__PURE__*/_jsxDEV(_Button, {\n          onClick: this.handleCancel,\n          children: \"\\u53D6\\u6D88\"\n        }, \"back\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          loading: this.state.loading,\n          onClick: this.handleOk,\n          children: \"\\u786E\\u5B9A\"\n        }, \"submit\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this)],\n        children: /*#__PURE__*/_jsxDEV(_Form, { ...formItemLayout,\n          name: \"register\",\n          ref: \"registerForm\",\n          scrollToFirstError: true,\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"username\",\n            label: \"\\u8D26\\u53F7\",\n            rules: [{\n              required: true,\n              message: '请输入账号!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"password\",\n            label: \"\\u5BC6\\u7801\",\n            rules: [{\n              required: true,\n              message: '请输入密码!'\n            }],\n            hasFeedback: true,\n            children: /*#__PURE__*/_jsxDEV(_Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"confirm\",\n            label: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n            dependencies: ['password'],\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              message: '请确认你的密码!'\n            }, ({\n              getFieldValue\n            }) => ({\n              validator(_, value) {\n                if (!value || getFieldValue('password') === value) {\n                  return Promise.resolve();\n                }\n\n                return Promise.reject(new Error('两次输入的密码不一致!'));\n              }\n\n            })],\n            children: /*#__PURE__*/_jsxDEV(_Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"name\",\n            label: \"\\u6635\\u79F0\",\n            tooltip: \"\\u4F60\\u60F3\\u8BA9\\u522B\\u4EBA\\u600E\\u4E48\\u79F0\\u547C\\u4F60?\",\n            rules: [{\n              required: true,\n              message: '请输入昵称!',\n              whitespace: true\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"phone\",\n            label: \"\\u624B\\u673A\\u53F7\",\n            rules: [{\n              required: true,\n              message: '请输入手机号码!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            name: \"sex\",\n            label: \"\\u6027\\u522B\",\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              message: '请选择您的性别!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              placeholder: \"\\u8BF7\\u9009\\u62E9\\u60A8\\u7684\\u6027\\u522B\",\n              children: [/*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u7537\",\n                children: \"\\u7537\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"\\u5973\",\n                children: \"\\u5973\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapState = state => ({\n  data: state.getIn(['community', 'data'])\n});\n\nconst mapDispatch = dispatch => ({\n  getCommunity() {\n    dispatch(actionCreators.communityRequest());\n  },\n\n  handleUpdate(id) {\n    console.log(id);\n    dispatch(actionCreators.updateCommunity(id));\n  },\n\n  handleSearch(value) {\n    console.log(value);\n    dispatch(actionCreators.searchCommunity(value));\n  }\n\n});\n\nexport default connect(mapState, mapDispatch)(Community);","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/src/pages/community/index.js"],"names":["React","Component","connect","actionCreators","NavLink","PlusSquareOutlined","columns","title","dataIndex","key","render","text","props","handleUpdate","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","Community","state","loading","visible","showModal","setState","handleOk","setTimeout","handleCancel","componentWillMount","getCommunity","console","log","data","handleSearch","marginTop","float","refs","search_form","getFieldValue","marginRight","position","required","message","validator","_","value","Promise","resolve","reject","Error","whitespace","width","mapState","getIn","mapDispatch","dispatch","communityRequest","id","updateCommunity","searchCommunity"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Table, Tag, Space, Form, Row, Col, Input, Button, Modal, Select} from 'antd';\r\nimport {actionCreators} from \"../community/store\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PlusSquareOutlined} from \"@ant-design/icons\";\r\n\r\n\r\nconst columns = [\r\n    {\r\n        title: '社团名称',\r\n        dataIndex: 'name',\r\n        key: 'id',\r\n        render: text => <a>{text}</a>,\r\n    },\r\n    {\r\n        title: '社团类型',\r\n        dataIndex: 'name',\r\n        key: 'type.id',\r\n        render: text => <a>{text}</a>,\r\n    },\r\n\r\n    // {\r\n    //     title: '社团类型',\r\n    //     key: 'type',\r\n    //     dataIndex: 'type',\r\n    //     render: type => (\r\n    //         <span>\r\n    //     {type.map(type => {\r\n    //         let color = type.length > 5 ? 'geekblue' : 'green';\r\n    //         if (type === 'loser') {\r\n    //             color = 'volcano';\r\n    //         }\r\n    //         return (\r\n    //             <Tag color={color} key={type}>\r\n    //                 {type.toUpperCase()}\r\n    //             </Tag>\r\n    //         );\r\n    //     })}\r\n    //   </span>\r\n    //         )\r\n    // },\r\n    {\r\n        title: '操作',\r\n        key: 'id',\r\n        render: () => (\r\n            <Space size=\"middle\">\r\n                <a onClick={this.props.handleUpdate(this.key)}><NavLink to=\"/admin/community/updateCommunity\">修改</NavLink></a>\r\n                <a>删除</a>\r\n            </Space>\r\n        ),\r\n    },\r\n];\r\n\r\nconst { Option } = Select;\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n    },\r\n};\r\n\r\nclass Community extends Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        visible: false,\r\n    };\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n    handleOk = () => {\r\n        this.setState({ loading: true });\r\n        setTimeout(() => {\r\n            this.setState({ loading: false, visible: false });\r\n        }, 1000);\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({ visible: false });\r\n    };\r\n\r\n\r\n    componentWillMount() {\r\n        this.props.getCommunity();\r\n        console.log(this.props.data)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const {handleSearch} = this.props;\r\n        return(\r\n            <div className=\"communityList\">\r\n\r\n                <Form\r\n                    ref=\"search_form\"\r\n                    name=\"advanced_search\"\r\n                    className=\"ant-advanced-search-form\"\r\n                >\r\n                    <Row type=\"flex\" justify=\"space-between\" align=\"middle\" style={{marginTop:10}}>\r\n\r\n                        <Col>\r\n                            <Form layout=\"inline\">\r\n                                <Form.Item label={\"社团名\"} >\r\n                                    <Input  />\r\n                                </Form.Item>\r\n                                <Form.Item style={{float:\"right\"}}>\r\n                                    <Button  type=\"primary\" onClick={()=>handleSearch(this.refs.search_form.getFieldValue())} style={{marginRight:\"10px\"}}>查找</Button>\r\n                                    <Button  type=\"default\"  onClick={this.showModal}><PlusSquareOutlined />添加社团</Button>\r\n\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n\r\n                <Table\r\n                    columns={columns}\r\n                    pagination={{ position: [ 'bottomCenter'] }}\r\n                    dataSource={this.props.data}\r\n                />\r\n\r\n                <Modal\r\n                    visible={this.state.visible}\r\n                    title=\"添加社团\"\r\n                    onOk={this.handleOk}\r\n                    onCancel={this.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.handleCancel}>\r\n                            取消\r\n                        </Button>,\r\n                        <Button key=\"submit\" type=\"primary\" loading={this.state.loading} onClick={this.handleOk}>\r\n                            确定\r\n                        </Button>,\r\n\r\n                    ]}\r\n                >\r\n                    <Form\r\n                        {...formItemLayout}\r\n                        name=\"register\"\r\n                        ref=\"registerForm\"\r\n                        scrollToFirstError\r\n                    >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            label=\"账号\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入账号!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            label=\"密码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入密码!',\r\n                                },\r\n                            ]}\r\n                            hasFeedback\r\n                        >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"confirm\"\r\n                            label=\"确认密码\"\r\n                            dependencies={['password']}\r\n                            hasFeedback\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请确认你的密码!',\r\n                                },\r\n                                ({ getFieldValue }) => ({\r\n                                    validator(_, value) {\r\n                                        if (!value || getFieldValue('password') === value) {\r\n                                            return Promise.resolve();\r\n                                        }\r\n                                        return Promise.reject(new Error('两次输入的密码不一致!'));\r\n                                    },\r\n                                }),\r\n                            ]}\r\n                        >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"name\"\r\n                            label=\"昵称\"\r\n                            tooltip=\"你想让别人怎么称呼你?\"\r\n                            rules={[{ required: true, message: '请输入昵称!', whitespace: true }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"phone\"\r\n                            label=\"手机号\"\r\n                            rules={[{ required: true, message: '请输入手机号码!' }]}\r\n                        >\r\n                            <Input  style={{ width: '100%' }} />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"sex\"\r\n                            label=\"性别\"\r\n                            hasFeedback\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请选择您的性别!',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select placeholder=\"请选择您的性别\">\r\n                                <Option value=\"男\">男</Option>\r\n                                <Option value=\"女\">女</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Form>\r\n\r\n                </Modal>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapState = (state) => ({\r\n    data: state.getIn(['community','data'])\r\n});\r\nconst mapDispatch = (dispatch) => ({\r\n\r\n    getCommunity(){\r\n        dispatch(actionCreators.communityRequest())\r\n    },\r\n    handleUpdate(id){\r\n        console.log(id)\r\n        dispatch(actionCreators.updateCommunity(id))\r\n    },\r\n    handleSearch(value){\r\n        console.log(value)\r\n        dispatch(actionCreators.searchCommunity(value))\r\n    }\r\n\r\n})\r\n\r\nexport default connect(mapState,mapDispatch)(Community);"]},"metadata":{},"sourceType":"module"}
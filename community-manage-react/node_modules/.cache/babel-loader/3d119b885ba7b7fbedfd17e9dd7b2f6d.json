{"ast":null,"code":"//action types\nconst LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nconst GET_USERINFO_SUCCESS = \"GET_USERINFO_SUCCESS\";\nconst LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\"; //reducer\n\nexport default function (state, action) {\n  if (!state) {\n    state = {\n      token: '',\n      name: 'admin',\n      avatar: '',\n      isAdmin: 0,\n      permission: []\n    };\n  }\n\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      //登录\n      return { ...state,\n        token: action.token\n      };\n\n    case GET_USERINFO_SUCCESS:\n      //获取用户信息\n      return { ...state,\n        name: action.name,\n        avatar: action.avatar,\n        isAdmin: action.isAdmin,\n        permission: action.permission\n      };\n\n    case LOGOUT_SUCCESS:\n      // 登出\n      return {\n        token: state.token,\n        name: '',\n        avatar: '',\n        isAdmin: 0,\n        permission: []\n      };\n\n    default:\n      return state;\n  }\n} // action creators\n\nexport const login = token => {\n  return {\n    type: LOGIN_SUCCESS,\n    token: token\n  };\n};\nexport const updateUserInfo = userInfo => {\n  return {\n    type: GET_USERINFO_SUCCESS,\n    ...userInfo\n  };\n};\nexport const logout = () => {\n  return {\n    type: LOGOUT_SUCCESS\n  };\n};","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/src/reducers/user.js"],"names":["LOGIN_SUCCESS","GET_USERINFO_SUCCESS","LOGOUT_SUCCESS","state","action","token","name","avatar","isAdmin","permission","type","login","updateUserInfo","userInfo","logout"],"mappings":"AAAA;AACA,MAAMA,aAAa,GAAG,eAAtB;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AACA,MAAMC,cAAc,GAAG,gBAAvB,C,CAEA;;AACA,eAAe,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACpC,MAAI,CAACD,KAAL,EAAY;AACRA,IAAAA,KAAK,GAAG;AACJE,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,IAAI,EAAE,OAFF;AAGJC,MAAAA,MAAM,EAAE,EAHJ;AAIJC,MAAAA,OAAO,EAAE,CAJL;AAKJC,MAAAA,UAAU,EAAE;AALR,KAAR;AAOH;;AACD,UAAQL,MAAM,CAACM,IAAf;AACI,SAAKV,aAAL;AACI;AACA,aAAO,EAAE,GAAGG,KAAL;AAAYE,QAAAA,KAAK,EAAED,MAAM,CAACC;AAA1B,OAAP;;AACJ,SAAKJ,oBAAL;AACI;AACA,aAAO,EAAE,GAAGE,KAAL;AAAYG,QAAAA,IAAI,EAAEF,MAAM,CAACE,IAAzB;AAA+BC,QAAAA,MAAM,EAAEH,MAAM,CAACG,MAA9C;AAAsDC,QAAAA,OAAO,EAAEJ,MAAM,CAACI,OAAtE;AAA+EC,QAAAA,UAAU,EAAEL,MAAM,CAACK;AAAlG,OAAP;;AACJ,SAAKP,cAAL;AACI;AACA,aAAO;AACHG,QAAAA,KAAK,EAAEF,KAAK,CAACE,KADV;AAEHC,QAAAA,IAAI,EAAE,EAFH;AAGHC,QAAAA,MAAM,EAAE,EAHL;AAIHC,QAAAA,OAAO,EAAE,CAJN;AAKHC,QAAAA,UAAU,EAAE;AALT,OAAP;;AAOJ;AACI,aAAON,KAAP;AAjBR;AAmBH,C,CAED;;AACA,OAAO,MAAMQ,KAAK,GAAIN,KAAD,IAAW;AAC5B,SAAO;AAAEK,IAAAA,IAAI,EAAEV,aAAR;AAAuBK,IAAAA,KAAK,EAAEA;AAA9B,GAAP;AACH,CAFM;AAIP,OAAO,MAAMO,cAAc,GAAIC,QAAD,IAAc;AACxC,SAAO;AAAEH,IAAAA,IAAI,EAAET,oBAAR;AAA8B,OAAGY;AAAjC,GAAP;AACH,CAFM;AAKP,OAAO,MAAMC,MAAM,GAAG,MAAM;AACxB,SAAO;AAAEJ,IAAAA,IAAI,EAAER;AAAR,GAAP;AACH,CAFM","sourcesContent":["//action types\r\nconst LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\r\nconst GET_USERINFO_SUCCESS = \"GET_USERINFO_SUCCESS\"\r\nconst LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\"\r\n\r\n//reducer\r\nexport default function (state, action) {\r\n    if (!state) {\r\n        state = {\r\n            token: '',\r\n            name: 'admin',\r\n            avatar: '',\r\n            isAdmin: 0,\r\n            permission: []\r\n        }\r\n    }\r\n    switch (action.type) {\r\n        case LOGIN_SUCCESS:\r\n            //登录\r\n            return { ...state, token: action.token }\r\n        case GET_USERINFO_SUCCESS:\r\n            //获取用户信息\r\n            return { ...state, name: action.name, avatar: action.avatar, isAdmin: action.isAdmin, permission: action.permission }\r\n        case LOGOUT_SUCCESS:\r\n            // 登出\r\n            return {\r\n                token: state.token,\r\n                name: '',\r\n                avatar: '',\r\n                isAdmin: 0,\r\n                permission: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// action creators\r\nexport const login = (token) => {\r\n    return { type: LOGIN_SUCCESS, token: token }\r\n}\r\n\r\nexport const updateUserInfo = (userInfo) => {\r\n    return { type: GET_USERINFO_SUCCESS, ...userInfo }\r\n}\r\n\r\n\r\nexport const logout = () => {\r\n    return { type: LOGOUT_SUCCESS }\r\n}"]},"metadata":{},"sourceType":"module"}
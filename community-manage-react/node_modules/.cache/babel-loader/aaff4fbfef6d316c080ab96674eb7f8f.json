{"ast":null,"code":"import axios from 'axios';\nimport * as constants from './constants';\nimport { fromJS } from 'immutable';\nimport Json from \"qs\";\n\nconst loginSuccess = () => ({\n  type: constants.LOGIN_SUCCESS,\n  loginState: true\n});\n\nconst loginError = error => ({\n  type: constants.LOGIN_ERROR,\n  loginState: false,\n  message: error\n});\n\nexport const loginRequest = values => {\n  return dispatch => {\n    var authDTO = {\n      \"username\": values.username,\n      \"password\": values.password\n    };\n    axios.post('http://localhost:8080/user/login', Json.stringify(authDTO)).then(res => {\n      const result = res.data.data;\n      localStorage.setItem('token', result.token);\n      const action = loginSuccess();\n      dispatch(action);\n    }).catch(error => {\n      const action = loginError(error);\n      dispatch(action);\n    });\n  };\n};","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/src/pages/login/store/actionCreators.js"],"names":["axios","constants","fromJS","Json","loginSuccess","type","LOGIN_SUCCESS","loginState","loginError","error","LOGIN_ERROR","message","loginRequest","values","dispatch","authDTO","username","password","post","stringify","then","res","result","data","localStorage","setItem","token","action","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AACA,SAAQC,MAAR,QAAqB,WAArB;AACA,OAAOC,IAAP,MAAiB,IAAjB;;AAEA,MAAMC,YAAY,GAAG,OAAK;AACtBC,EAAAA,IAAI,EAAGJ,SAAS,CAACK,aADK;AAEtBC,EAAAA,UAAU,EAAE;AAFU,CAAL,CAArB;;AAKA,MAAMC,UAAU,GAAIC,KAAD,KAAU;AACzBJ,EAAAA,IAAI,EAAGJ,SAAS,CAACS,WADQ;AAEzBH,EAAAA,UAAU,EAAE,KAFa;AAGzBI,EAAAA,OAAO,EAAEF;AAHgB,CAAV,CAAnB;;AAMA,OAAO,MAAMG,YAAY,GAAIC,MAAD,IAAY;AACpC,SAAQC,QAAD,IAAc;AACjB,QAAIC,OAAO,GAAG;AACV,kBAAYF,MAAM,CAACG,QADT;AAEV,kBAAYH,MAAM,CAACI;AAFT,KAAd;AAIAjB,IAAAA,KAAK,CAACkB,IAAN,CAAW,kCAAX,EAA8Cf,IAAI,CAACgB,SAAL,CAAeJ,OAAf,CAA9C,EAAuEK,IAAvE,CAA6EC,GAAD,IAAS;AACjF,YAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,CAASA,IAAxB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BH,MAAM,CAACI,KAApC;AACA,YAAMC,MAAM,GAAGvB,YAAY,EAA3B;AACAU,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACH,KALD,EAKGC,KALH,CAKSnB,KAAK,IAAI;AACd,YAAMkB,MAAM,GAAGnB,UAAU,CAACC,KAAD,CAAzB;AACAK,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACH,KARD;AASH,GAdD;AAeH,CAhBM","sourcesContent":["import axios from 'axios';\r\nimport * as constants from './constants';\r\nimport {fromJS} from 'immutable';\r\nimport Json from \"qs\";\r\n\r\nconst loginSuccess = ()=>({\r\n    type : constants.LOGIN_SUCCESS,\r\n    loginState: true\r\n})\r\n\r\nconst loginError = (error)=>({\r\n    type : constants.LOGIN_ERROR,\r\n    loginState: false,\r\n    message: error\r\n})\r\n\r\nexport const loginRequest = (values) => {\r\n    return (dispatch) => {\r\n        var authDTO = {\r\n            \"username\": values.username,\r\n            \"password\": values.password\r\n        }\r\n        axios.post('http://localhost:8080/user/login',Json.stringify(authDTO)).then((res) => {\r\n            const result = res.data.data;\r\n            localStorage.setItem('token',result.token);\r\n            const action = loginSuccess();\r\n            dispatch(action);\r\n        }).catch(error => {\r\n            const action = loginError(error);\r\n            dispatch(action);\r\n        });\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useNotification;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _Notice = _interopRequireDefault(require(\"./Notice\"));\n\nfunction useNotification(notificationInstance) {\n  var createdRef = React.useRef({});\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      elements = _React$useState2[0],\n      setElements = _React$useState2[1];\n\n  function notify(noticeProps) {\n    var firstMount = true;\n    notificationInstance.add(noticeProps, function (div, props) {\n      var key = props.key;\n\n      if (div && (!createdRef.current[key] || firstMount)) {\n        var noticeEle = /*#__PURE__*/React.createElement(_Notice.default, (0, _extends2.default)({}, props, {\n          holder: div\n        }));\n        createdRef.current[key] = noticeEle;\n        setElements(function (originElements) {\n          var index = originElements.findIndex(function (ele) {\n            return ele.key === props.key;\n          });\n\n          if (index === -1) {\n            return [].concat((0, _toConsumableArray2.default)(originElements), [noticeEle]);\n          }\n\n          var cloneList = (0, _toConsumableArray2.default)(originElements);\n          cloneList[index] = noticeEle;\n          return cloneList;\n        });\n      }\n\n      firstMount = false;\n    });\n  }\n\n  return [notify, /*#__PURE__*/React.createElement(React.Fragment, null, elements)];\n}","map":{"version":3,"sources":["D:/IDEA workspace/ZUA/community-manage-react/node_modules/rc-notification/lib/useNotification.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","useNotification","_toConsumableArray2","_extends2","_slicedToArray2","React","_Notice","notificationInstance","createdRef","useRef","_React$useState","useState","_React$useState2","elements","setElements","notify","noticeProps","firstMount","add","div","props","key","current","noticeEle","createElement","holder","originElements","index","findIndex","ele","concat","cloneList","Fragment"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,eAAlB;;AAEA,IAAIC,mBAAmB,GAAGP,sBAAsB,CAACD,OAAO,CAAC,0CAAD,CAAR,CAAhD;;AAEA,IAAIS,SAAS,GAAGR,sBAAsB,CAACD,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIU,eAAe,GAAGT,sBAAsB,CAACD,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIW,KAAK,GAAGZ,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIY,OAAO,GAAGX,sBAAsB,CAACD,OAAO,CAAC,UAAD,CAAR,CAApC;;AAEA,SAASO,eAAT,CAAyBM,oBAAzB,EAA+C;AAC7C,MAAIC,UAAU,GAAGH,KAAK,CAACI,MAAN,CAAa,EAAb,CAAjB;;AAEA,MAAIC,eAAe,GAAGL,KAAK,CAACM,QAAN,CAAe,EAAf,CAAtB;AAAA,MACIC,gBAAgB,GAAG,CAAC,GAAGR,eAAe,CAACJ,OAApB,EAA6BU,eAA7B,EAA8C,CAA9C,CADvB;AAAA,MAEIG,QAAQ,GAAGD,gBAAgB,CAAC,CAAD,CAF/B;AAAA,MAGIE,WAAW,GAAGF,gBAAgB,CAAC,CAAD,CAHlC;;AAKA,WAASG,MAAT,CAAgBC,WAAhB,EAA6B;AAC3B,QAAIC,UAAU,GAAG,IAAjB;AACAV,IAAAA,oBAAoB,CAACW,GAArB,CAAyBF,WAAzB,EAAsC,UAAUG,GAAV,EAAeC,KAAf,EAAsB;AAC1D,UAAIC,GAAG,GAAGD,KAAK,CAACC,GAAhB;;AAEA,UAAIF,GAAG,KAAK,CAACX,UAAU,CAACc,OAAX,CAAmBD,GAAnB,CAAD,IAA4BJ,UAAjC,CAAP,EAAqD;AACnD,YAAIM,SAAS,GAAG,aAAalB,KAAK,CAACmB,aAAN,CAAoBlB,OAAO,CAACN,OAA5B,EAAqC,CAAC,GAAGG,SAAS,CAACH,OAAd,EAAuB,EAAvB,EAA2BoB,KAA3B,EAAkC;AAClGK,UAAAA,MAAM,EAAEN;AAD0F,SAAlC,CAArC,CAA7B;AAGAX,QAAAA,UAAU,CAACc,OAAX,CAAmBD,GAAnB,IAA0BE,SAA1B;AACAT,QAAAA,WAAW,CAAC,UAAUY,cAAV,EAA0B;AACpC,cAAIC,KAAK,GAAGD,cAAc,CAACE,SAAf,CAAyB,UAAUC,GAAV,EAAe;AAClD,mBAAOA,GAAG,CAACR,GAAJ,KAAYD,KAAK,CAACC,GAAzB;AACD,WAFW,CAAZ;;AAIA,cAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,mBAAO,GAAGG,MAAH,CAAU,CAAC,GAAG5B,mBAAmB,CAACF,OAAxB,EAAiC0B,cAAjC,CAAV,EAA4D,CAACH,SAAD,CAA5D,CAAP;AACD;;AAED,cAAIQ,SAAS,GAAG,CAAC,GAAG7B,mBAAmB,CAACF,OAAxB,EAAiC0B,cAAjC,CAAhB;AACAK,UAAAA,SAAS,CAACJ,KAAD,CAAT,GAAmBJ,SAAnB;AACA,iBAAOQ,SAAP;AACD,SAZU,CAAX;AAaD;;AAEDd,MAAAA,UAAU,GAAG,KAAb;AACD,KAxBD;AAyBD;;AAED,SAAO,CAACF,MAAD,EAAS,aAAaV,KAAK,CAACmB,aAAN,CAAoBnB,KAAK,CAAC2B,QAA1B,EAAoC,IAApC,EAA0CnB,QAA1C,CAAtB,CAAP;AACD","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useNotification;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _Notice = _interopRequireDefault(require(\"./Notice\"));\n\nfunction useNotification(notificationInstance) {\n  var createdRef = React.useRef({});\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      elements = _React$useState2[0],\n      setElements = _React$useState2[1];\n\n  function notify(noticeProps) {\n    var firstMount = true;\n    notificationInstance.add(noticeProps, function (div, props) {\n      var key = props.key;\n\n      if (div && (!createdRef.current[key] || firstMount)) {\n        var noticeEle = /*#__PURE__*/React.createElement(_Notice.default, (0, _extends2.default)({}, props, {\n          holder: div\n        }));\n        createdRef.current[key] = noticeEle;\n        setElements(function (originElements) {\n          var index = originElements.findIndex(function (ele) {\n            return ele.key === props.key;\n          });\n\n          if (index === -1) {\n            return [].concat((0, _toConsumableArray2.default)(originElements), [noticeEle]);\n          }\n\n          var cloneList = (0, _toConsumableArray2.default)(originElements);\n          cloneList[index] = noticeEle;\n          return cloneList;\n        });\n      }\n\n      firstMount = false;\n    });\n  }\n\n  return [notify, /*#__PURE__*/React.createElement(React.Fragment, null, elements)];\n}"]},"metadata":{},"sourceType":"script"}